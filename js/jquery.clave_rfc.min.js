/*
 * jquery.clave_rfc.min.js | GPL v3.0
 * Copyrigth (c) 2012-2015, L3a and egamez@edisson.com.mx
 */
(function(n){var d={fisica_clave:function(a,c,b,l,m,h){var f=void 0,k=[],e=[],g=[],e=k=void 0,k=d.fisica_regla8(d.normalize(a.toUpperCase())),k=d.fisica_regla6(k),e=d.fisica_regla8(d.normalize(c.toUpperCase()));b&&(g=d.fisica_regla8(d.normalize(b.toUpperCase())));2>=e[0].length&&(f=g.length?d.fisica_regla4(k[0],e[0],g[0]):d.fisica_regla7(k[0],e[0]));0===g.length&&(f=d.fisica_regla7(k[0],e[0]));void 0===f&&(f=d.fisica_regla1(k[0],e[0],g[0]));f=d.fisica_regla9(f);f+=d.regla2(l,m,h);k=d.homonimia((c+
" "+b+" "+a).toUpperCase());e=d.digitoVerificador(f+k);return f+k+e},moral_clave:function(a,c,b,l,m){var h=[],f=[],k=[],e=[],g=a.toUpperCase(),g=d.normalize(g),e=g.split(" "),e=d.moral_regla11(e),e=d.moral_regla9(e),e=d.moral_regla10(e),e=d.moral_regla12(e);2<e.length?g=d.moral_regla1(e[0],e[1],e[2]):2==e.length?g=d.moral_regla6(e[0],e[1]):1==e.length&&(g=d.moral_regla7(e[0]));g+=d.regla2(b,l,m);c.length?f.push(d.homonimia((a+" "+c).toUpperCase())):f.push(d.homonimia(a.toUpperCase()));f.push(d.homonimia(a.toUpperCase()));
k.push(d.digitoVerificador(g+f[0]));k.push(d.digitoVerificador(g+f[1]));h.push(g+f[0]+k[0]);h.push(g+f[1]+k[1]);return h},extract:function(a,c){var b=void 0;"year"===a?b=/\d{2}(?=(\d{4}))/:"month"===a?b=/\d{2}(?=(\w{5}$))/:"day"===a?b=/\d{2}(?=(\w{3}$))/:"homonimia"===a?b=/\w{2}(?=(\w(?=$)))/:"digito_verificador"===a&&(b=/\w(?=$)/);if(b)return b.exec(c)[0]},extract2:function(a,c){var b=c.match(/\d{2}/g);if("year"===a)return b[0];if("month"===a)return b[1];if("day"===a)return b[2]},homonimia:function(a){for(var c=
{" ":0,0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,"&":10,A:11,B:12,C:13,D:14,E:15,F:16,G:17,H:18,I:19,J:21,K:22,L:23,M:24,N:25,O:26,P:27,Q:28,R:29,S:32,T:33,U:34,V:35,W:36,X:37,Y:38,Z:39,"\u00d1":40,"\u00c1":11,"\u00c9":15,"\u00cd":19,"\u00d3":26,"\u00da":34},b={0:"1",1:"2",2:"3",3:"4",4:"5",5:"6",6:"7",7:"8",8:"9",9:"A",10:"B",11:"C",12:"D",13:"E",14:"F",15:"G",16:"H",17:"I",18:"J",19:"K",20:"L",21:"M",22:"N",23:"P",24:"Q",25:"R",26:"S",27:"T",28:"U",29:"V",30:"W",31:"X",32:"Y",33:"Z"},l=0,m=0,h=null,
f=0,k=0,e=0,g=null,g=/\w|\s|&|\u00D1|\u00C1|\u00C9|\u00CD|\u00D3|\u00DA/,p=0;p<a.length;p++)h=a.charAt(p),g.test(h)&&(n.each(c,function(a,b){f=b;return h!=a}),m+=(10*l+d.decena(f))*d.decena(f),l=f%10,m+=f*l);m%=1E3;k=m%34;e=(m-k)/34;n.each(b,function(a,b){h=b;return e!=a});g=h;n.each(b,function(a,b){h=b;return k!=a});return g+h},decena:function(a){return 40<=a?4:30<=a?3:20<=a?2:10<=a?1:0},digitoVerificador:function(a){var c={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,G:16,
H:17,I:18,J:19,K:20,L:21,M:22,N:23,"&":24,O:25,P:26,Q:27,R:28,S:29,T:30,U:31,V:32,W:33,X:34,Y:35,Z:36," ":37,"\u00d1":38},b="",d=0,m=0,h=0,h=13,f=null,f=11===a.length?" "+a:a;for(a=0;a<f.length;a++)b=f.charAt(a),n.each(c,function(a,c){d=c;return b!=a}),m+=d*h,--h;h=m%11;return 0==h?"0":1==h?"A":11-h},normalizeClave:function(a){return a.replace(/[ -]/g,"")},fisica_regla1:function(a,c,b){var d=c.substring(1).match(/A|E|I|O|U|\u00C1|\u00C9|\u00CD|\u00D3|\u00DA/i)[0].charAt(0);return c.charAt(0)+d+b.charAt(0)+
a.charAt(0)},regla2:function(a,c,b){1===a.length&&(a="0"+a);1===c.length&&(c="0"+c);1===b.length?b="0"+b:4===b.length&&(b=b.substr(2));return b+c+a},regla3:function(a){var c=void 0;return c=a.match(/^CH|^LL/i)?a.charAt(0)+a.substring(2):a},fisica_regla4:function(a,c,b){return c.charAt(0)+b.charAt(0)+a.charAt(0)+a.charAt(1)},fisica_regla5:function(a,c,b){},fisica_regla6:function(a){for(var c=[],b=0;b<a.length;b++)"MARIA"!==a[b]&&"MAR\u00cdA"!==a[b]&&"JOSE"!==a[b]&&"JOS\u00c9"!==a[b]&&c.push(a[b]);
return c},fisica_regla7:function(a,c){var b=c.substring(1).match(/A|E|I|O|U|\u00C1|\u00C9|\u00CD|\u00D3|\u00DA/i)[0].charAt(0);return c.charAt(0)+b+a.charAt(0)+a.charAt(1)},fisica_regla8:function(a){var c=[];a=a.split(" ");for(var b=0;b<a.length;b++)a[b].length&&"DE"!==a[b]&&"DEL"!==a[b]&&"LA"!==a[b]&&"LAS"!==a[b]&&"LOS"!==a[b]&&"MC"!==a[b]&&"MAC"!==a[b]&&"MI"!==a[b]&&"VAN"!==a[b]&&"VON"!==a[b]&&"Y"!==a[b]&&c.push(a[b]);return c},fisica_regla9:function(a){var c=void 0;return c="BUEI"===a||"BUEY"===
a||"CACA"===a||"CACO"===a||"CAGA"===a||"CAGO"===a||"CAKA"===a||"COGE"===a||"COJA"===a||"COJE"===a||"COJI"===a||"COJO"===a||"CULO"===a||"FETO"===a||"GUEY"===a||"JOTO"===a||"KACA"===a||"KACO"===a||"KAGA"===a||"KAGO"===a||"KOGE"===a||"KOJO"===a||"KAKA"===a||"KULO"===a||"MAME"===a||"MAMO"===a||"MEAR"===a||"MEON"===a||"MION"===a||"MOCO"===a||"MULA"===a||"PEDA"===a||"PEDO"===a||"PENE"===a||"PUTA"===a||"PUTO"===a||"QULO"===a||"RATA"===a||"RUIN"===a?a.charAt(0)+a.charAt(1)+a.charAt(2)+"X":a},moral_regla1:function(a,
c,b){return a.charAt(0)+c.charAt(0)+b.charAt(0)},moral_regla6:function(a,c){var b=a.charAt(0);return b=1<c.length?b+c.charAt(0)+c.charAt(1):b+c.charAt(0)+"X"},moral_regla7:function(a){var c=void 0;2<a.length?c=a.charAt(0)+a.charAt(1)+a.charAt(2):2==a.length?c=a.charAt(0)+a.charAt(1)+"X":1==a.length&&(c=a.charAt(0)+"XX");return c},moral_regla9:function(a){var c=a;a=[];for(var b in c)"EL"!=c[b]&&"LA"!=c[b]&&"DE"!=c[b]&&"LOS"!=c[b]&&"LAS"!=c[b]&&"PARA"!=c[b]&&"CON"!=c[b]&&"EN"!=c[b]&&"Y"!=c[b]&&"E"!=
c[b]&&"DEL"!=c[b]&&a.push(c[b]);return a},moral_regla10:function(a){return a},moral_regla11:function(a){var c=a;a=[];for(var b in c)"CIA"!=c[b]&&"COMPANIA"!=c[b]&&a.push(c[b]);return a},moral_regla12:function(a){return a},normalize:function(a){for(var c="",b=null,l=0;l<a.length;l++){if("\u00c1"===a.charAt(l))b="A";else if("\u00c9"===a.charAt(l))b="E";else if("\u00cd"===a.charAt(l))b="I";else if("\u00d3"===a.charAt(l))b="O";else if("\u00da"===a.charAt(l))b="U";else if("."===a.charAt(l))continue;else if("'"===
a.charAt(l))continue;else if(","===a.charAt(l))continue;else b=a.charAt(l);c+=b}return d.regla3(c)}};n.fn.clave_rfc=function(a){if(d[a])return d[a].apply(this,Array.prototype.slice.call(arguments,1));if("object"!==typeof a&&a)n.error("El m\u00e9todo "+a+" no existe en la presente implementaci\u00f3n.");else return d.init.apply(this,arguments)}})(jQuery);
